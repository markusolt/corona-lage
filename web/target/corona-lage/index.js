"use strict";const e={csv:function*(e){let t=function*(e){let t=/(?<val>[^",\n]*("[^"]*"[^",\n]*)*)(?<del>,|\n+|$)/g,n=[];for(let r of e.matchAll(t)){let{val:e,del:t}=r.groups;if(n.push(e.trim().replace(/"/,"").replace(/"([^"]*)"?/g,((e,t)=>'""'===e?'"':t))),","!==t){if(""===t&&1===n.length&&""===n[0])return;yield n,n=[]}}}(e),n=t.next().value;for(let e of t)yield Object.fromEntries(n.map(((t,n)=>[t,e[n]])))}};e.day=(()=>{class e{constructor(e){this._val=e}add(t){return new e(this._val+t)}since(e){return this._val-e._val}iso(){return new Date(864e5*this._val).toISOString().substr(0,10)}week_day(){return new Intl.DateTimeFormat(void 0,{weekday:"short"}).format(new Date(864e5*this._val))}}return function(t){return new e(Date.parse(t)/864e5)}})(),e.hay=(()=>{class e{constructor(){this._everything=new Set,this._map=new Map}insert(e,n){this._everything.add(n);for(let r of t(e))for(let e=0;e<r.length;e++){let t=r.substr(0,e+1);this._map.has(t)||this._map.set(t,new Set),this._map.get(t).add(n)}}find_sets(e){let n=t(e);return 0===n.length?[this._everything]:n.map((e=>this._map.get(e)||new Set))}find(e){return function(e){if(0===e.length)return[];let t=(e=e.filter(((e,t,n)=>n.indexOf(e)===t)).sort(((e,t)=>e.size-t.size))).slice(1);return Array.from(e[0]).filter((e=>t.every((t=>t.has(e)))))}(this.find_sets(e))}}function t(e){return e.toLowerCase().replace(/ä/g,"a").replace(/ö/g,"o").replace(/ü/g,"u").replace(/ß/g,"ss").split(/[^a-z0-9]+/g).filter(((e,t,n)=>e.length>2&&n.indexOf(e)===t))}return function(){return new e}})(),e.spa=(()=>{let e=()=>!1,t=()=>{};function n(){t(e(window.location.href))}return window.addEventListener("click",(n=>{let r,a;!1===n.altKey&&!1===n.ctrlKey&&!1===n.metaKey&&!1===n.shiftKey&&Boolean(r=function(e){for(;e&&"A"!==e.tagName;)e=e.parentElement;return e}(n.target))&&Boolean(a=e(r.href))&&(n.preventDefault(),r.href!==window.location.href&&history.pushState(null,"",r.href),window.scrollTo(0,0),t(a))})),window.addEventListener("popstate",n),{install:function(r,a){e=r,t=a,n()},refresh:n}})(),e.lorem=(()=>{const e=["ac","adipiscing","amet","ante","at","bibendum","blandit","consectetur","curabitur","cursus","dapibus","diam","dictum","dolor","donec","dui","eget","elementum","elit","enim","eros","et","eu","ex","fames","faucibus","finibus","fringilla","hendrerit","iaculis","imperdiet","in","interdum","ipsum","leo","lobortis","lorem","luctus","malesuada","mauris","metus","morbi","nec","neque","nisi","nisl","non","nulla","nunc","orci","phasellus","porttitor","posuere","primis","quisque","sapien","sem","semper","sit","sollicitudin","tempus","tincidunt","turpis","ut","vitae","viverra","vulputate"];return function(t){let n=e[Math.floor(Math.random()*e.length)];return n=n.substring(0,1).toUpperCase()+n.substring(1),n+new Array(t).fill(null).map((()=>e[Math.floor(Math.random()*e.length)])).join(" ")+"."}})(),e.main=(()=>{const t=e.spa,n=e.lorem;sessionStorage.href&&(history.replaceState(null,"",sessionStorage.href),sessionStorage.href="");{let e=location.origin+"/corona-lage";t.install((t=>{if(t.startsWith(e))return t.substring(e.length)}),(e=>{document.body.innerHTML="";let t=document.body.appendChild(document.createElement("main"));t.appendChild(document.createElement("h1")).textContent=e;let i=t.appendChild(document.createElement("p"));i.appendChild(document.createTextNode("Welcome to ")),i.appendChild(document.createElement("i")).textContent="Corona Lage",i.appendChild(document.createTextNode(". This is the daily update of Covid-19 incidence values across Germany. You can visit ")),i.appendChild(a("the overview page","/corona-lage/overview")),i.appendChild(document.createTextNode(" for more details. Or go to a ")),i.appendChild(a("random page","/corona-lage/"+n(r(0,4)).toLowerCase().replace(/[^a-z ]+/g,"").replace(/ /g,"/"))),i.appendChild(document.createTextNode("."));let o=t.appendChild(document.createElement("ul"));for(let e=r(3,12);e>0;e--)o.appendChild(document.createElement("li")).textContent=n(r(5,20));t.appendChild(document.createElement("p")).textContent=n(r(30,70)),document.body.appendChild(document.createElement("footer")).textContent="markus"}))}function r(e,t){return e+Math.floor(Math.random()*(t-e+1))}function a(e,t){let n=document.createElement("a");return n.title=e,n.textContent=e,n.href=t,n}})();
